<div align='center'>

# Design Principle
</div>

## ЁЯУЪ Table of Contents


1. [SOLID Principle](#1-solid-principle)
    - [S - Single Responsibility Principle (SRP)](#s---single-responsibility-principle-srp)  
    - [O - Open-Closed Principle (OCP)](#o---open-closed-principle-ocp)  
    - [L - Liskov Substitution Principle (LSP)](#l---liskov-substitution-principle-lsp)  
    - [I - Interface Segregation Principle (ISP)](#i---interface-segregation-principle-isp)  
    - [D - Dependency Inversion Principle (DIP)](#d---dependency-inversion-principle-dip)



<br>
<br>


# 1. SOLID Principle

**SOLID Principle** рж╣ржЪрзНржЫрзЗ рзлржЯрж┐ ржорзВрж▓ Object-Oriented Design principle-ржПрж░ рж╕ржорж╖рзНржЯрж┐, ржпрж╛ software design-ржХрзЗ ржЖрж░ржУ maintainable, scalable, ржПржмржВ readable ржХрж░рзЗ рждрзЛрж▓рзЗред <br>
ржПрж░ ржорзВрж▓ ржЙржжрзНржжрзЗрж╢рзНржп рж╣рж▓рзЛ understandable, reusable, easier to extend ржПржмржВ well-maintainable рж╕ржлржЯржУрзЯрзНржпрж╛рж░ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ред ржЖржорж░рж╛ ржкрзНрж░рждрж┐ржирж┐рзЯржд ржПржХрзНрж╕рж┐рж╕рзНржЯрж┐ржВ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржХрж╛ржЬ ржХрж░рж┐ред ржЖрж░ рждрж╛ ржХрж░рждрзЗ ржЧрж┐рзЯрзЗ ржкрзНрж░ржЪрзБрж░ ржХрзЛржб ржкрзЬрждрзЗ рж╣рзЯ, ржкрзЬрзЗ ржмрзБржЭрждрзЗ рж╣рзЯ ржПржмржВ ржирждрзБржи рж░рж┐ржХрзЛрзЯрж╛рж░ржорзЗржирзНржЯ ржЕржирзБржпрж╛рзЯрзА ржПржХрзНрж╕ржЯрзЗржирзНржб ржХрж░рждрзЗ рж╣рзЯред ржпржжрж┐ SOLID ржПрж░ ржорждрзЛ ржПржХржЯрж╛ ржХржоржи ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржлрж▓рзЛ ржХрж░рзЗ ржХрзЛржб ржХрж░рж╛ рж╣рзЯ рждрж╛рж╣рж▓рзЗ ржкрж░ржмрж░рзНрждрзАрждрзЗ ржПрж╕ржм ржХрзЛржб рж╕рж╣ржЬрзЗ ржмрзБржЭрж╛ ржпрж╛ржмрзЗ ржПржмржВ ржжрзНрж░рзБржд ржПржХрзНрж╕ржЯрзЗржирзНржб ржХрж░рж╛ ржпрж╛ржмрзЗред

**SOLID ржПрж░ рзлржЯрж┐ principle рж╣ржЪрзНржЫрзЗржГ**

- Single Responsibility Principle (SRP)
- Open-Closed Principle (OCP)
- Liskov Substitution Principle (LSP)
- Interface Segregation Principle (ISP)
- Dependency Inversion Principle (DIP)

## S - Single Responsibility Principle (SRP)

**A class should have one, only one reason to change.**

**ЁЯСЙ ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕рзЗрж░ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ ржХрж╛ржЬ ржерж╛ржХрж╛ ржЙржЪрж┐рждред**

ЁЯФ╣ **ржЙржжрж╛рж╣рж░ржг:**
`Invoice` ржХрзНрж▓рж╛рж╕рзЗрж░ ржХрж╛ржЬ рж╢рзБржзрзБ ржЗржиржнрзЯрзЗрж╕ рж╕ржВржХрзНрж░рж╛ржирзНржд ржЬрж┐ржирж┐рж╕ рж░рж╛ржЦрж╛ред Email ржкрж╛ржарж╛ржирзЛ ржмрж╛ ржкрзНрж░рж┐ржирзНржЯ ржХрж░рж╛ ржПрж░ ржжрж╛рзЯрж┐рждрзНржм ржирж╛ред
рждрж╛рж╣рж▓рзЗ `EmailSender` ржУ `InvoicePrinter` ржЖрж▓рж╛ржжрж╛ ржХрзНрж▓рж╛рж╕рзЗ рж░рж╛ржЦрж╛ ржЙржЪрж┐рждред


SOLID ржПрж░ ржкрзНрж░ржержо principle рж╣рж▓рзЛ Single Responsibility Principle (SRP). ржПржЯрж╛ ржЦрзБржмржЗ рж╕рж╣ржЬ ржХржирж╕рзЗржкрзНржЯред SRP ржПрж░ рж╢рж░рзНржд рж╣рж▓рзЛ ржПржХржЯрж╛ Class ржПрж░ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж╛ржЗ ржХрж╛ржЬ/ржЙржжрзНржжрзЗрж╢рзНржп ржерж╛ржХржмрзЗред ржЕрж░рзНржерж╛рзО ржкрзНрж░рждрж┐ржЯрж┐ ржнрж┐ржирзНржи-ржнрж┐ржирзНржи ржХрж╛ржЬрзЗрж░ ржЬржирзНржп ржнрж┐ржирзНржи-ржнрж┐ржирзНржи Class ржерж╛ржХржмрзЗред

ржЪрж▓рзБржи ржжрзЗржЦрж╛ ржпрж╛ржХ ржХрж┐ржнрж╛ржмрзЗ SRP violate рж╣ржЪрзНржЫрзЗржГ

```php
class userInfo
{
    public function getUserName()
    {
        return 'name';
    }

    // Here SRP violates
    public function sendMailToUser()
    {
        return 'success';
    }
}
```

ржЙржкрж░рзЗрж░ `UserInfo` ржХрзНрж▓рж╛рж╕рзЗ ржжрзБржЯрж┐ ржорзЗржержб ржЖржЫрзЗред ржПржХржЯрж╛ `getUserName` ржпрзЗржЯрж╛ ржЗржЙржЬрж╛рж░ ржПрж░ ржирж╛ржо рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ, ржЕржирзНржпржЯрж╛ `sendMailToUser` ржпрзЗржЯрж╛ ржжрж┐рзЯрзЗ ржЗржЙржЬрж╛рж░ржХрзЗ ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред рждрж╛рж░ржорж╛ржирзЗ ржПржЗ ржХрзНрж▓рж╛рж╕ ржПрж░ ржЬржм ржжрзБржЗржЯрж╛, <br>
рзз) ржЗржЙржЬрж╛рж░ ржПрж░ ржирж╛ржо ржмрж╛ рждржерзНржп ржжрзЗрзЯрж╛ ржПржмржВ <br>
рзи) ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛред

**ржЖрж░ ржПржХрзЗрж░ ржЕржзрж┐ржХ ржХрж╛ржЬ/ржЙржжрзНржжрзЗрж╢рзНржпрзЗ ржерж╛ржХрж▓рзЗржЗ SRP violate рж╣ржЪрзНржЫрзЗред** ржХрж╛рж░ржг SRP ржмрж▓рзЗ ржпрзЗ, ржПржХржЯрж╛ ржХрзНрж▓рж╛рж╕ ржПрж░ ржПржХржЯрж╛рж░ ржмрзЗрж╢рж┐ ржжрж╛рзЯрж┐рждрзНржм ржерж╛ржХржмрзЗржирж╛, ржлрж▓рзЗ ржкрж░ржмрж░рзНрждрзАрждрзЗ ржУржЗ ржХрзНрж▓рж╛рж╕рзЗ ржЪрзЗржЮрзНржЬ ржЖрж╕ржмрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржУржЗ ржПржХржЯрж╛ ржЬржм/ржЙржжрзНржжрзЗрж╢рзНржпрзЗрж░ ржХрж╛рж░ржгрзЗржЗред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржорж░рж╛ ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржХрзНрж▓рж╛рж╕ ржбрж┐ржЬрж╛ржЗржи ржХрж░ржмрзЛред

ржПржЦрж╛ржирзЗ ржПржХржЯрж╛ ржмрж┐рж╖рзЯ ржЦрзЗрзЯрж╛рж▓ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ ржпрзЗ, рж░рж┐рзЯрзЗрж▓-рж▓рж╛ржЗржлрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржЧрж┐рзЯрзЗ ржпржжрж┐ ржПржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржЯрж╛ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХ ржХрж╛ржЬрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржХрзНрж▓рж╛рж╕ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж┐ рждрж╛рж╣рж▓рзЗ ржкрж░рзЗ ржПрждрзЛ ржХрзНрж▓рж╛рж╕ ржорзЗржЗржиржЯрзЗржЗржи ржХрж░рж╛ ржХрж╖рзНржЯржХрж░ рж╣ржмрзЗ ржПржмржВ ржПржЯрж╛ ржорзЛржЯрзЗржУ ржнрж╛рж▓рзЛ ржкрзНрж░рж╛ржХржЯрж┐рж╕ ржирж╛ред SRP ржмрж▓рзЗржирж╛ ржпрзЗ ржПржХржЯрж╛ ржХрзНрж▓рж╛рж╕ ржПрж░ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж╛ржЗ ржорзЗржержб ржерж╛ржХржмрзЗред ржПржХржЯрж╛ ржХрзНрж▓рж╛рж╕рзЗ ржЖржорж░рж╛ ржпржд ржЗржЪрзНржЫрж╛ ржорзЗржержб ржУ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ рж░рж╛ржЦрж┐ржирж╛ ржХрзЗржи, рж╕ржмржХрж┐ржЫрзБржЗ ржпрж╛рждрзЗ ржПржХржЗ ржЙржжрзНржжрзЗрж╢рзНржп ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рзЗред

ржЪрж▓рзБржи ржЖржорж░рж╛ UserInfo ржХрзНрж▓рж╛рж╕рзЗ SRP refactor ржХрж░рж┐ржГ

```php
class userInfo
{
    public function getUserName()
    {
        return 'name';
    }

    public function getUserAddress()
    {
        return 'address';
    }

    public function getUserRole()
    {
        return 'role';
    }
}
```

ржПржЦрж╛ржирзЗ `UserInfo` ржХрзНрж▓рж╛рж╕ ржПрж░ рзйржЯрж┐ ржорзЗржержб ржЖржЫрзЗред рзйржЯрж┐ ржорзЗржержб-ржЗ ржЗржЙржЬрж╛рж░ ржПрж░ рждржерзНржп рж╕рж░ржмрж░рж╛рж╣рзЗрж░ ржХрж╛ржЬ ржХрж░ржЫрзЗред ржЕрж░рзНржерзНржпрж╛рзО ржПржЗ ржХрзНрж▓рж╛рж╕ ржПрж░ ржПржХржЯрж╛ржЗ ржХрж╛ржЬ- ржЗржЙржЬрж╛рж░ ржПрж░ рждржерзНржп рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж╛ред

---

<br>

## O - Open-Closed Principle (OCP)

**ЁЯСЙ ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ "Open for extension but closed for modification" рж╣ржУржпрж╝рж╛ ржЙржЪрж┐рждред**

ЁЯФ╣ ржЕрж░рзНржерж╛рзО: ржирждрзБржи feature ржпрзЛржЧ ржХрж░рж╛ ржпрж╛ржмрзЗ, ржХрж┐ржирзНрждрзБ ржЖржЧрзЗрж░ ржХрзЛржб modify ржирж╛ ржХрж░рзЗред

ЁЯФ╣ **ржЙржжрж╛рж╣рж░ржг:**
ржЖржкржирж┐ ржпржжрж┐ ржПржХржЯрж┐ ржбрж┐рж╕ржХрж╛ржЙржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо ржХрж░рзЗржи ржПржмржВ ржкрж░рзЗ ржирждрзБржи ржбрж┐рж╕ржХрж╛ржЙржирзНржЯ ржЯрж╛ржЗржк ржпрзЛржЧ ржХрж░рждрзЗ ржЪрж╛ржи, рждрж╛рж╣рж▓рзЗ ржЖржЧрзЗрж░ ржХрзНрж▓рж╛рж╕ ржирж╛ ржмржжрж▓рзЗ ржирждрзБржи ржХрзНрж▓рж╛рж╕ ржЗржирж╣рзЗрж░рж┐ржЯ ржХрж░рзЗ implement ржХрж░ржмрзЗржиред


OCP ржмрж▓рзЗ ржпрзЗ, ржЖржорж╛ржжрзЗрж░ рж╕ржлржЯржУрзЯрзНржпрж╛рж░ ржПрж░ ржПржиржЯрж┐ржЯрж┐ ржЧрзБрж▓рзЛ (class, function, module) ржПржоржиржнрж╛ржмрзЗ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ ржЙржЪрж┐ржд ржпрж╛рждрзЗ ржнржмрж┐рж╖рзНржпрждрзЗ ржирждрзБржи рж░рж┐ржХрзЛрзЯрж╛рж░ржорзЗржирзНржЯ ржПрж▓рзЗржУ ржПржХрзНрж╕рж┐рж╕рзНржЯрж┐ржВ ржХрзЛржб ржорзЛржбрж┐ржлрж╛ржЗ ржирж╛ ржХрж░рзЗ ржмрж░ржВ ржПржХрзНрж╕рж┐рж╕рзНржЯрж┐ржВ ржХрзЛржбржХрзЗ ржПржХрзНрж╕ржЯрзЗржирзНржб ржХрж░рзЗржЗ ржПрж░ behavior ржХрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛рзЯред ржПржЦрж╛ржирзЗ ржЙрж▓рзНрж▓рзЗржЦрзНржп, behavior ржмрж▓рждрзЗ рж╕рзЛрж░рзНрж╕ ржХрзЛржбрзЗрж░ ржЖржЪрж░ржгржЧржд ржкрж░рж┐ржмрж░рзНрждржиржХрзЗржЗ ржмрзБржЭрж╛рзЯред рж╕рзЛржЬрж╛ ржХрзЛржерж╛рзЯ, ржЖржорж╛ржжрзЗрж░ рж╕ржлрзНржЯржУрзЯрж╛рж░ ржПржиржЯрж┐ржЯрж┐ ржЧрзБрж▓рзЛ рж╣ржмрзЗ open for extension but closed for modification.

ржЖржорж░рж╛ ржпржжрж┐ ржпржерж╛ржпржержнрж╛ржмрзЗ OCP ржкрзНрж░рзЯрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рж┐ рждржмрзЗ existing рж╕рзЛрж░рзНрж╕ ржХрзЛржб ржорзЛржбрж┐ржлрж╛ржЗ ржирж╛ ржХрж░рзЗржЗ ржирждрзБржи ржлрж┐ржЪрж╛рж░ ржПржб ржХрж░рж╛ ржпрж╛ржмрзЗред OCP ржХржиржлрж╛рж░рзНржо ржХрж░рзЗ ржпрзЗ, ржЖржорж╛ржжрзЗрж░ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ ржПржиржЯрж┐ржЯрж┐ рж╕ржорзВрж╣ ржнржмрж┐рж╖рзНржпрждрзЗрж░ рж░рж┐ржХрзЛрзЯрж╛рж░ржорзЗржирзНржЯ ржПрж░ ржЪрж╛рж╣рж┐ржжрж╛ ржкрзВрж░ржгрзЗ ржирждрзБржи ржУ ржнрж┐ржирзНржи ржЙржкрж╛рзЯрзЗ ржЖржЪрж░ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред ржПржмржВ рж╕рзЗржЯрж╛ ржПржХрзНрж╕рж┐рж╕рзНржЯрж┐ржВ рж╕рзЛрж░рзНрж╕ ржХрзЛржбрзЗрж░ ржмрзЬ ржХрзЛржирзЛ ржкрж░рж┐ржмрж░рзНрждржи ржЫрж╛рзЬрж╛ржЗред

ржЪрж▓рзБржи ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгржЯрж┐ ржжрзЗржЦрж┐ржГ

```php
class PaymentService
{
    public function payWithPaypal()
    {
        // pay with paypal
    }

    public function payWithCreditCard()
    {
        // pay with credit card
    }

    public function payWithWireTransfer()
    {
        // pay with wire transfer
    }
}

class PaymentController
{
    public function pay(Request $request, PaymentService $paymentService)
    {
        $payment_type = $request->input('payment_type');

        // Here OCP violates !!!
        switch ($payment_type) {
            case 'Paypal':
                $response = $paymentService->payWithPaypal();
                break;
            case 'Credit Card':
                $response = $paymentService->payWithCreditCard();
                break;
            default:
                $response = $paymentService->payWithWireTransfer();
        }
        return $response;
    }
}
```

ржзрж░рж╛ ржпрж╛ржХ, ржЖржорж╛ржжрзЗрж░ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржкрзЗржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ `paymentController` ржХрзНрж▓рж╛рж╕ ржЖржЫрзЗ, ржПржЦрж╛ржирзЗ `pay` ржорзЗржержб ржПрж░ ржорж╛ржзрзНржпржорзЗ ржкрзЗржорзЗржирзНржЯ ржирзЗрзЯрж╛ рж╣рзЯред ржЖрж░ `paymentService` ржирж╛ржоржХ ржХрзНрж▓рж╛рж╕ ржЖржЫрзЗ ржПржЦрж╛ржирзЗ ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ ржкрзЗржорзЗржирзНржЯ рж╕рж╛рж░рзНржнрж┐рж╕ ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ function рж░рзЯрзЗржЫрзЗред `pay` ржорзЗржержб ржПрж░ ржкрзЗржорзЗржирзНржЯ ржЯрж╛ржЗржк ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржкрзЗржорзЗржирзНржЯ рж╕рж╛рж░рзНржнрж┐рж╕ ржПрж░ ржзрж░ржг рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рж╛ рж╣рзЯред

ржПржЦржи ржПржЦрж╛ржирзЗ ржпржжрж┐ ржирждрзБржи ржХрзЛржирзЛ ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗ ржпрзЛржЧ ржХрж░рждрзЗ ржЪрж╛ржЗ рждрж╛рж╣рж▓рзЗ ржмрж┐ржжрзНржпржорж╛ржи ржжрзБржЗржЯрж╛ ржХрзНрж▓рж╛рж╕ржЗ ржорзЛржбрж┐ржлрж╛ржЗ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЦрж╛ржирзЗржЗ OCP violation рж╣рзЯрзЗржЫрзЗред ржпрзЗрж╣рзЗрждрзБ OCP ржмрж▓рзЗржЫрзЗ ржмрж┐ржжрзНржпржорж╛ржи рж╕рзЛрж░рзНрж╕ ржХрзЛржб рж╣ржмрзЗ closed for modification, рж╕рзЗржЦрж╛ржирзЗ ржЖржорж╛ржжрзЗрж░ ржХрзЛржб ржорзЛржбрж┐ржлрж╛ржЗ ржХрж░рждрзЗ рж╣ржЪрзНржЫрзЗред

ржЪрж▓рзБржи ржжрзЗржЦрж┐ ржХрж┐ржнрж╛ржмрзЗ **OCP violation** ржжрзВрж░ ржХрж░рждрзЗ ржкрж╛рж░рж┐ржГ

```php
interface paymentInterface
{
    public function pay();
}

class payWithPaypal implements paymentInterface
{
    public function pay()
    {
        // TODO: Implement pay() method.
    }
}

class payWithCreditCard implements paymentInterface
{
    public function pay()
    {
        // TODO: Implement pay() method.
    }
}

class payWithWireTransfer implements paymentInterface
{
    public function pay()
    {
        // TODO: Implement pay() method.
    }
}

class PaymentService
{
    public function initialize($payment_type)
    {
        switch ($payment_type) {
            case 'Paypal':
                return new payWithPaypal();
                break;
            case 'Credit Card':
                return new payWithCreditCard();
                break;
            default:
                return new payWithWireTransfer();
        }
    }
}

class PaymentController
{
    public function pay(Request $request, PaymentService $paymentService)
    {
        $payment_type = $request->input('payment_type');
        // OCP refactor
        $payment = $paymentService->initialize('Paypal');
        $payment->pay();
    }
}
```

ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ ржПржХржЯрж╛ interface ржХрж░рзЗржЫрж┐ `paymentInterface` ржирж╛ржорзЗ, ржпрзЗржЦрж╛ржирзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ pay ржорзЗржержб ржЖржЫрзЗред ржпрзЗрж╕ржХрж▓ class ржПржЗ interface ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░ржмрзЗ рждрж╛ржжрзЗрж░ржХрзЗ ржЕржмрж╢рзНржпржЗ pay ржорзЗржержбржЯрж┐ ржбрж┐ржлрж╛ржЗржи ржХрж░рждрзЗ рж╣ржмрзЗред

ржПрж░ржкрж░ ржЖржорж░рж╛ ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛-ржЖрж▓рж╛ржжрж╛ class ржХрж░рзЗржЫрж┐ ржпрж╛рж░рж╛ рж╕ржмрж╛ржЗ `paymentInterface` ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рзЗржЫрзЗред ржЖрж░ paymentService ржХрзНрж▓рж╛рж╕рзЗ initialize ржорзЗржержб ржПрж░ ржорж╛ржзрзНржпржорзЗ ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░ржЫрж┐ ржПржмржВ paymentController ржХрзНрж▓рж╛рж╕ ржПрж░ pay ржорзЗржержбржУ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржЫрж┐, ржПржЦрж╛ржирзЗ ржкрзЗржорзЗржирзНржЯ ржЯрж╛ржЗржк ржжрж┐рзЯрзЗ paymentService ржерзЗржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рж╛ рж╣рзЯред

ржпрзЗрж╣рзЗрждрзБ рж╕ржХрж▓ ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗрж░ ржХрзНрж▓рж╛рж╕ржЗ `paymentInterface` ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░ржЫрзЗ рж╕рзЗрж╣рзЗрждрзБ рждрж╛рж░рж╛ ржЕржмрж╢рзНржпржЗ pay ржорзЗржержб ржУ ржбрж┐ржлрж╛ржЗржи ржХрж░рзЗржЫрзЗред рждрж╛рж░ржкрж░ ржУржЗ ржорзЗржержбрзЗ ржХрж▓ ржХрж░рзЗ ржкрзЗржорзЗржирзНржЯ рж╕ржорзНржкржирзНржи рж╣ржмрзЗред

ржПржЦржи ржпржжрж┐ ржЖржорж╛ржжрзЗрж░ржХрзЗ ржирждрзБржи ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗ ржПржб ржХрж░рждрзЗ ржмрж▓рж╛ рж╣рзЯ рждрж╛рж╣рж▓рзЗ ржЦрзБржм рж╕рж╣ржЬрзЗржЗ рж╕рзЗржЯрж╛ ржХрж░рж╛ ржпрж╛ржмрзЗред ржпрж╛ ржХрж░рждрзЗ рж╣ржмрзЗржГ

- ржирждрзБржи ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржХрзНрж▓рж╛рж╕ рж╣ржмрзЗ ржпрзЗржЯрж╛ paymentInterface ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░ржмрзЗред

- paymentService ржХрзНрж▓рж╛рж╕ ржПрж░ initalize ржорзЗржержбрзЗ ржирждрзБржи ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗрж░ ржЬржирзНржп ржХржирзНржбрж┐рж╢ржи ржПржб рж╣ржмрзЗ ржПржмржВ ржирждрзБржи ржХрзНрж▓рж╛рж╕ ржПрж░ ржЕржмржЬрзЗржХрзНржЯ рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗред


ржЕрж░рзНржерж╛рзО, existing ржХрзЛржбрзЗ рждрзЗржоржи ржкрж░рж┐ржмрж░рзНрждржи ржЫрж╛рзЬрж╛ржЗ ржЖржорж░рж╛ ржирждрзБржи ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗ ржПржб ржХрж░рждрзЗ ржкрзЗрж░рзЗржЫрж┐ред

ржХрж┐ржнрж╛ржмрзЗ ржмрзБржЭржмрзЛ ржХрзЛржерж╛рзЯ OCP apply ржХрж░рждрзЗ рж╣ржмрзЗржГ

`OCPтАЩрж░` ржорзВрж▓ ржЙржжрзНржжрзЗрж╢рзНржп рж╣рж▓рзЛ ржХрзЛржирзЛ class ржПрж░ behavior ржХрзЗ ржмрзЬ ржзрж░ржирзЗрж░ ржорзЛржбрж┐ржлрж┐ржХрзЗрж╢ржи ржЫрж╛рзЬрж╛ржЗ ржПржХрзНрж╕ржЯрзЗржирзНржб ржХрж░рждрзЗ ржкрж╛рж░рж╛ред рждрж╛рж░ржорж╛ржирзЗ ржПржЗ ржирзЯ ржпрзЗ ржЖржорж░рж╛ рж╕ржм ржХрзНрж▓рж╛рж╕рзЗ OCP ржПржкрзНрж▓рж╛ржЗ ржХрж░ржмрзЛред рж╕рж┐рж╕рзНржЯрзЗржо ржПрж░ ржпрзЗрж╕ржм behavior ржкрзНрж░рждрж┐ржирж┐рзЯржд ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржЖрж╢ржВржХрж╛ ржЖржЫрзЗ рж╕рзЗрж╕ржм ржХрзНрж╖рзЗрждрзНрж░рзЗржЗ OCP ржПржкрзНрж▓рж╛ржЗ ржХрж░рзЗ ржнрж╛рж▓рзЛ ржлрж▓ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯред рж╕рж┐рж╕рзНржЯрзЗржо ржПрж░ ржбрзЛржорзЗржЗржи рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирж╛ ржерж╛ржХрж▓рзЗ ржмрзБржЭрждрзЗ рж╕рж╣ржЬ рж╣рзЯ ржпрзЗ ржХрзЛржерж╛рзЯ OCP ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛ ржкрзНрж░рзЯрзЛржЬржиред

---


<br>

## L - Liskov Substitution Principle (LSP)

**ЁЯСЙ Child class ржпрзЗржи Parent class-ржПрж░ ржЖржЪрж░ржг ржарж┐ржХржнрж╛ржмрзЗ follow ржХрж░рзЗред**

**ЁЯСЙ Subclass/derived class should be substitutable for their base class.**

ЁЯФ╣ ржЕрж░рзНржерж╛рзО : Base ржХрзНрж▓рж╛рж╕ ржпрзЗржЦрж╛ржирзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗ, рж╕рзЗржЦрж╛ржирзЗ Child ржХрзНрж▓рж╛рж╕ржУ behave ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред Liskov Substitution Principle ржмрж▓рзЗ ржпрзЗ, ржХрзЛржирзЛ object ржПрж░ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржХрзЗ ржУржЗ object ржПрж░ base/parent class ржПрж░ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржжрж┐рзЯрзЗ рж░рж┐ржкрзНрж▓рзЗрж╕ ржХрж░рж╛ ржпрж╛ржмрзЗ ржПржмржВ ржПржЬржирзНржп existing code ржПрж░ correctness ржмрж╛ ржмрж┐рж╢рзБржжрзНржзрждрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗржирж╛ред

ЁЯФ╣ **ржЙржжрж╛рж╣рж░ржг:**
`Bird` ржХрзНрж▓рж╛рж╕ ржпржжрж┐ `fly()` method рж░рж╛ржЦрзЗ, рждрж╛рж╣рж▓рзЗ `Penguin` ржХрзНрж▓рж╛рж╕ (ржпрж╛ ржЙрзЬрждрзЗ ржкрж╛рж░рзЗ ржирж╛) рждрж╛ extend ржХрж░рж╛ ржпрзБржХрзНрждрж┐ржпрзБржХрзНржд ржирж╛ред

ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгржЯрж┐ ржжрзЗржЦрзБржиржГ

```php
abstract class PaymentStatusService
{
    public abstract function getStatus($payment_id);
}

class CreditCardPaymentStatus extends PaymentStatusService
{
    public function getStatus($payment_id)
    {
        return 'success';
    }
}

class SonaliPaymentStatus extends PaymentStatusService
{
    public function getStatus($payment_id)
    {
        return ['status' => 'success'];
    }
}

$payment_status = new CreditCardPaymentStatus();
$payment_status->getStatus(1);


$payment_status = new SonaliPaymentStatus();
$payment_status->getStatus(1);
// Here the LSP violates !!!
```

ржПржЗ ржХрзЛржбрзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ, ржкрзЗржорзЗржирзНржЯ рж╕рзНржЯрзЗржЯрж╛рж╕ ржЬрж╛ржирж╛рж░ ржЬржирзНржп ржПржХржЯрж╛ `abstract` class ржЖржЫрзЗ `paymentStatusService` ржирж╛ржорзЗ ржПржмржВ ржПржЗ ржХрзНрж▓рж╛рж╕рзЗ `getStatus` ржирж╛ржо ржПржХржЯрж╛ abstract ржорзЗржержб ржЖржЫрзЗред ржмрж┐ржнрж┐ржирзНржи ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУрзЯрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ class ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рж░рж╛ paymentStatusService ржХрзЗ extend ржХрж░рзЗред ржпрзЗрж╣рзЗрждрзБ abstract ржХрзНрж▓рж╛рж╕ржХрзЗ ржПржХрзНрж╕ржЯрзЗржирзНржб ржХрж░рж▓рзЗ рждрж╛рж░ abstract ржорзЗржержбржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗ рж╣ржмрзЗ, рж╕рзЗрж╣рзЗрждрзБ рж╕ржХрж▓ ржХрзНрж▓рж╛рж╕ getStatus ржорзЗржержб ржбрж┐ржлрж╛ржЗржи ржХрж░рзЗржЫрзЗред рж╕ржмрж╢рзЗрж╖рзЗ ржЖржорж░рж╛ `CreditCardPaymentStatus` class ржПрж░ instance рждрзИрж░рзА ржХрж░рзЗржЫрж┐ ржПржмржВ getStatus ржорзЗржержб ржХрж▓ ржХрж░рзЗржЫрж┐ credit card ржкрзЗржорзЗржирзНржЯ ржПрж░ рж╕рзНржЯрзЗржЯрж╛рж╕ ржЬрж╛ржирж╛рж░ ржЬржирзНржпред

ржЖрж░ LSP ржмрж▓рждрзЗ ржЪрж╛рзЯ, ржЖржорж░рж╛ CreditCardPaymentStatus class ржПрж░ instance рждрзИрж░рзА ржХрж░рзЗржЫрж┐, рж╕рзЗржЯрж╛ ржпрзЗржирзЛ SonaliPaymentStatus ржПрж░ instance ржжрж┐рзЯрзЗ рж░рж┐ржкрзНрж▓рзЗрж╕ ржХрж░рж╛ ржпрж╛рзЯред ржХрж╛рж░ржг ржпрзЗрж╣рзЗрждрзБ CreditCardPaymentStatus ржПржмржВ SonaliPaymentStatus ржжрзБржЗржЯрж┐ ржХрзНрж▓рж╛рж╕ржЗ ржПржХржЗ base/parent class ржПрж░ child.

ржХрж┐ржирзНрждрзБ ржЖржорж╛ржжрзЗрж░ ржХрзЛржбрзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ, ржЖржорж░рж╛ ржПржЗ рж░рж┐ржкрзНрж▓рзЗрж╕ржорзЗржирзНржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЛржирж╛ред ржХрж╛рж░ржг, `CreditCardPaymentStatus` ржПрж░ getStatus ржорзЗржержб ржПрж░ ***рж░рж┐ржЯрж╛рж░рзНржи ржЯрж╛ржЗржк*** ржЖрж░ `SonaliPaymentStatus` ржПрж░ getStatus ржорзЗржержб ржПрж░ ***рж░рж┐ржЯрж╛рж░рзНржи ржЯрж╛ржЗржк*** ржПржХ ржирзЯред ржпрзЗрж╣рзЗрждрзБ ржПржЗ рж░рж┐ржЯрж╛рж░рзНржи ржЯрж╛ржЗржк ржирж┐рзЯрзЗ ржкрж░ржмрж░рзНрждрзАрждрзЗ ржХрзЛржирзЛ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, рж╕рзЗрж╣рзЗрждрзБ ржПржЦрж╛ржирзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ object ржПрж░ instance рж░рж┐ржкрзНрж▓рзЗрж╕ ржХрж░рж▓рзЗржЗ рж╣ржмрзЗржирж╛ред ржПржЯрж╛ржЗ LSP violation.

ржЙрж▓рзНрж▓рзЗржЦрзНржп, ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ base ржХрзНрж▓рж╛рж╕ ржжрж┐рзЯрзЗ ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗржЫрж┐, рждржмрзЗ interface ржПрж░ implementation ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗржУ ржПржХржЗ ржмрж┐рж╖рзЯ ржкрзНрж░ржпрзЛржЬрзНржпред ржПржХржЯрж╛ interface ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛ рж╕ржХрж▓ ржХрзНрж▓рж╛рж╕ ржУ ржкрж╕рзНржкрж░ржХрзЗ ржкрзНрж░рждрж┐рж╕рзНржерж╛ржкржиржпрзЛржЧрзНржп рж╣рждрзЗ рж╣ржмрзЗред

ржирж┐ржорзНржирзЛржХрзНржд рж╢рж░рзНрждржЧрзБрж▓рзЛ ржЕржирзБрж╕рж░ржг ржХрж░рж▓рзЗ ржЖржорж░рж╛ LSP violation ржПрзЬрж┐рзЯрзЗ ржЪрж▓рждрзЗ ржкрж╛рж░ржмрзЛржГ

- sub-class ржЧрзБрж▓рзЛрждрзЗ base-class ржПрж░ ржорзЗржержб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ рж╕рзЗржХрзНрж╖рзЗрждрзНрж░рзЗ ржорзЗржержб ржПрж░ input parameter type ржПржмржВ рж╕ржВржЦрзНржпрж╛ ржЕржмрж╢рзНржпржЗ base-class ржПрж░ ржорзЗржержб ржПрж░ рж╕ржорж╛ржи рж╣рждрзЗ рж╣ржмрзЗред
- ржорзЗржержб ржПрж░ рж░рж┐ржЯрж╛рж░рзНржи ржЯрж╛ржЗржк ржПржХржЗ ржзрж░ржгрзЗрж░ рж╣рждрзЗ рж╣ржмрзЗред
- Exception ржЯрж╛ржЗржк ржУ ржПржХржЗ ржзрж░ржгрзЗрж░ рж╣рждрзЗ рж╣ржмрзЗред

---

## I - Interface Segregation Principle (ISP)

**ЁЯСЙ ржПржХржЯрж┐ ржмрзЬ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржирж╛ ржжрж┐рзЯрзЗ ржЫрзЛржЯ ржЫрзЛржЯ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ рждрзИрж░рж┐ ржХрж░рж╛ ржЙржЪрж┐рждред**

**ЁЯСЙ A client should not be forced to implement an interface that it doesnтАЩt use.**

ЁЯФ╣ ржЕрж░рзНржерж╛рзО: ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ ржпрзЗржи ржПржоржи ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржирж╛ ржХрж░рзЗ ржпрж╛ рж╕рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж╛ред

ржПржЯрж╛ ржЦрзБржмржЗ рж╕рж╣ржЬ ржПржХржЯрж╛ principle. ржПрж░ ржорж╛ржирзЗ рж╣ржЪрзНржЫрзЗ ржпрзЗ, ржХрзЛржирзЛ class ржХрзЗ ржПржоржи ржХрзЛржирзЛ interface ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗ ржмрж╛ржзрзНржп ржирж╛ ржХрж░рж╛, ржпрзЗ interface рж╕рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржирж╛ ржЕржержмрж╛ ржпрзЗ interface ржПрж░ ржорзЗржержбржЧрзБрж▓рзЛ рж╕рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржирж╛ред

ISP ржмрж▓рждрзЗ ржЪрж╛рзЯ ржпрзЗ, ржЖржорж╛ржжрзЗрж░ рждрзИрж░рж┐ржХрзГржд interface рж╣ржмрзЗ ржПржХржжржо client-specific ржПржмржВ ржЦрзБржм ржмрзЗрж╢рж┐ generalized ржирж╛ред ржЕрж░рзНржерж╛рзО, interface рж╣ржмрзЗ ржЫрзЛржЯрзЛ ржПржмржВ client-specific.

ржПржХржЯрж╛ ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрж╛ ржпрж╛ржХржГ

```php
interface PrinterInterface
{
    public function print();

    public function photocopy();

    public function scan();
}

class DigitalPrinter implements PrinterInterface
{
    public function print()
    {
        return 'Print';
    }

    public function photocopy()
    {
        return 'Photocopy';
    }

    public function scan()
    {
        return 'Scan';
    }
}

class ModernPrinter implements PrinterInterface
{
    public function print()
    {
        return 'Print';
    }

    public function photocopy()
    {
        return 'Photocopy';
    }

    // ISP Violates here
    public function scan()
    {
        return 'Not supported';
    }
}

class OldPrinter implements PrinterInterface
{
    public function print()
    {
        return 'print';
    }

    // ISP Violates here
    public function photocopy()
    {
        return 'Not supported';
    }

    // ISP Violates here
    public function scan()
    {
        return 'Not supported';
    }
}
```

ржПржЦрж╛ржирзЗ ржПржХржЯрж╛ PrinterInterface рждрзИрж░рзА ржХрж░рзЗржЫрж┐ ржпрзЗржЯрж╛рзЯ рзйржЯрж┐ ржорзЗржержб ржЖржЫрзЗ, print, photocopy, ржПржмржВ scan. рждрж╛рж░ржкрж░ рзйржЯрж┐ printer ржПрж░ ржЬржирзНржп рзйржЯрж┐ class ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рж░рж╛ рж╕ржмрж╛ржЗ PrinterInterface ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рзЗржЫрзЗред ржпрзЗрж╣рзЗрждрзБ interface ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж▓рзЗ рждрж╛рж░ рж╕ржмржЧрзБрж▓рзЛ ржорзЗржержб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗ рж╣рзЯ, рж╕рзЗрж╣рзЗрждрзБ printer ржХрзНрж▓рж╛рж╕ржЧрзБрж▓рзЛржУ рж╕ржмржЧрзБрж▓рзЛ ржорзЗржержб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рзЗржЫрзЗред

ржПржЦрж╛ржирзЗ ржХрзЛржерж╛рзЯ ISP violation рж╣рзЯрзЗржЫрзЗ? ржжрзЗржЦрзБржи, ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж╛ printer ржЖржЫрзЗ OldPrinter ржпрзЗржЯрж╛рждрзЗ scan ржПржмржВ photocopy ржПрж░ ржлрж┐ржЪрж╛рж░ ржирзЗржЗ ржХрж┐ржирзНрждрзБ рждржмрзБржУ OldPrinter class ржПржЗ ржорзЗржержбржЧрзБрж▓рзЛ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗ ржмрж╛ржзрзНржпред рждрзЗржоржирж┐ржнрж╛ржмрзЗ, ModernPrinter ржУ ржмрж╛ржзрзНржп рж╣рзЯрзЗржЫрзЗ scan ржорзЗржержб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗред ржпржжрж┐ржУ ржПржЗрж╕ржм ржорзЗржержб ржУржжрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи ржирзЗржЗ, ржХрж┐ржирзНрждрзБ interface ржПрж░ rules ржПрж░ ржХрж╛рж░ржгрзЗ рждрж╛рж░рж╛ ржмрж╛ржзрзНржп рж╣рзЯрзЗржЫрзЗред **ржПржЯрж╛ржЗ Interface-Segregation Principle ржХрзЗ violate ржХрж░рзЗржЫрзЗред**

ржХрж┐ржнрж╛ржмрзЗ ржПрж░ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ ржпрж╛рзЯржГ

```php
interface PrinterInterface
{
    public function print();
}

interface PhotocopyInterface
{
    public function photocopy();
}

interface ScannerInterface
{
    public function scan();
}

// ISP refactors here
class DigitalPrinter implements PrinterInterface, PhotocopyInterface, ScannerInterface
{
    public function print()
    {
        return 'Print';
    }

    public function photocopy()
    {
        return 'Photocopy';
    }

    public function scan()
    {
        return 'Scan';
    }
}

// ISP refactors here
class ModernPrinter implements PrinterInterface, PhotocopyInterface
{
    public function print()
    {
        return 'Print';
    }

    public function photocopy()
    {
        return 'Photocopy';
    }
}

// ISP refactors here
class OldPrinter implements PrinterInterface
{
    public function print()
    {
        return 'print';
    }
}
```

ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ ржЖржЧрзЗрж░ interface ржХрзЗ segregate ржХрж░рзЗ small & client-specific interface рж╣рж┐рж╕рзЗржмрзЗ рзй ржнрж╛ржЧрзЗ ржнрж╛ржЧ ржХрж░рзЗржЫрж┐ред ржПрж░ ржлрж▓рзЗ ржпрзЗ client ржПрж░ ржпрзЗ interface ржкрзНрж░рзЯрзЛржЬржи рж╕рзЗ рждрж╛ржХрзЗржЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░ржмрзЗред ржПржмржВ ржХрзЛржирзЛ client ржХрзЗржЗ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржорзЗржержб ржЗржЙржЬ ржХрж░рждрзЗ ржмрж╛ржзрзНржп ржХрж░рж╛ рж╣ржмрзЗ ржирж╛ред

<br>

## D - Dependency Inversion Principle (DIP)


**ЁЯСЙ High-level ржоржбрж┐ржЙрж▓ ржпрзЗржи low-level ржоржбрж┐ржЙрж▓рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржирж╛ ржХрж░рзЗ, ржмрж░ржВ abstraction-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред**

**ЁЯСЙ High level modules should not depend on low-level modules, both should depend on abstractions.**

ЁЯФ╣ ржЕрж░рзНржерж╛рзО: class ржпрзЗржи ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзЛржи implementation-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржирж╛ ржХрж░рзЗ, ржмрж░ржВ interface ржмрж╛ abstract ржХрзНрж▓рж╛рж╕рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред

ЁЯФ╣ **ржЙржжрж╛рж╣рж░ржг:**
`NotificationService` ржХрзНрж▓рж╛рж╕ ржпржжрж┐ рж╕рж░рж╛рж╕рж░рж┐ `EmailSender` ржмрзНржпржмрж╣рж╛рж░ ржирж╛ ржХрж░рзЗ ржмрж░ржВ `INotificationSender` interface ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, рждрж╛рж╣рж▓рзЗ ржкрж░рзЗ `SMSSender` ржмрж╛ ржЕржирзНржп ржХрж┐ржЫрзБ рж╕рж╣ржЬрзЗржЗ ржпрзБржХрзНржд ржХрж░рж╛ ржпрж╛рзЯред


рж╕рж╣ржЬрзЗ ржмрж▓рж╛ ржпрж╛рзЯ ржпрзЗ, рж╕рж┐рж╕рзНржЯрзЗржо ржПрж░ high-level code, low-level code ржПрж░ ржЙржкрж░ ржбрж┐ржкрзЗржирзНржб ржХрж░ржмрзЗ ржирж╛ред ржмрж░ржВ ржжрзБржЗржЯрж╛ржЗ ржбрж┐ржкрзЗржирзНржб ржХрж░ржмрзЗ abstraction ржПрж░ ржЙржкрж░ред

ржПржЦрж╛ржирзЗ ржХрж┐ржЫрзБ ржЯрж╛рж░рзНржорж╕ ржмрзБржЭрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ржГ

**Dependency:** Class A ржпржжрж┐ class B ржПрж░ ржЙржкрж░ ржмрж╛ ржХрзЛржирзЛ ржнрзНржпрж╛рж▓рзБрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ рждржмрзЗ class B ржЕржержмрж╛ ржУржЗ ржнрзНржпрж╛рж▓рзБржЗ рж╣рж▓рзЛ class A ржПрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ред

**High-level code, Low-level code:** High-level code рж╣ржЪрзНржЫрзЗ рж╕рзЗрж╕ржм ржпрзЗржЧрзБрж▓рзЛ ржЖржорж░рж╛ рж╕рж░рж╛рж╕рж░рж┐ ржХрж▓ ржХрж░рж┐ ржПржмржВ ржпрзЗржЧрзБрж▓рзЛ core business logic ржзрж╛рж░ржг ржХрж░рзЗред ржЖрж░ ржПрж╕ржм High-level code ржХрзЗ ржпрзЗрж╕ржм code рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ рж╕рзЗржЧрзБрж▓рзЛ Low-level codeред

**Abstraction:** Abstraction рж╣рж▓рзЛ ржХрзЛржирзЛ concrete class ржЕржержмрж╛ method ржПрж░ indirect representation. Abstraction ржмрж▓рждрзЗ рж╕рж╛ржзрж╛рж░ржгржд Abstraction class ржПржмржВ interface ржХрзЗ ржмрзБржЭрж╛рзЯред

ржПржХржЯрж╛ ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрж╛ ржпрж╛ржХржГ

```php
class GoogleAuthenticationService
{
    public function authenticate($email)
    {
        return 'true';
    }
}

class userLogin
{
    public function login($email)
    {
        // DIP violates here
        $google_authentication = new GoogleAuthenticationService();
        $auth_result = $google_authentication->authenticate($email);

        if ($auth_result) {
            return true;
        }
    }
}

$login = new userLogin();
$login->login('samadocpl@gmail.com');
```

ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ login ржПрж░ ржЬржирзНржп userLogin ржХрзНрж▓рж╛рж╕ ржбрж┐ржЬрж╛ржЗржи ржХрж░рзЗржЫрж┐ ржПржмржВ рж╕рзЗржЦрж╛ржирзЗ login ржорзЗржержб ржПрж░ ржорж╛ржзрзНржпржорзЗ GoogleAuthenticationService ржжрж┐рзЯрзЗ ржЗржЙржЬрж╛рж░ржХрзЗ authenticate ржХрж░ржЫрж┐ред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржорж╛ржжрзЗрж░ high-level code рж╣рж▓рзЛ userLogin ржХрзНрж▓рж╛рж╕ ржПржмржВ low-level code рж╣рж▓рзЛ GoogleAuthenticationService ржПржмржВ high-level code, low-level code ржПрж░ ржЙржкрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНржЯ рж╣рзЯрзЗ ржЖржЫрзЗред ржПржЯрж╛ржЗ **DIP violation**.

ржХрж┐ржЫрзБржжрж┐ржи ржкрж░ ржпржжрж┐ ржЖржорж╛ржжрзЗрж░ ржЕржирзНржпржХрзЛржирзЛ athentication рж╕рж╛рж░рзНржнрж┐рж╕ ржкрзНрж░рзЯрзЛржЬржи рж╣рзЯ рждрж╛рж╣рж▓рзЗ ржХрж┐ ржХрж░рждрзЗ рж╣ржмрзЗ? рждржЦржи ржЖржорж░рж╛ ржЖрж▓рж╛ржжрж╛ athentication рж╕рж╛рж░рзНржнрж┐рж╕ рждрзИрж░рзА ржХрж░рзЗ userLogin ржХрзНрж▓рж╛рж╕ ржПрж░ login ржорзЗржержбрзЗ рж╕рзЗржЗ рж╕рж╛рж░рзНржнрж┐рж╕ ржЗржЙржЬ ржХрж░ржмрзЛ, ржЖрж░ ржПржЯрж╛ ржХрж┐ржирзНрждрзБ SOLID ржПрж░ OCP ржХрзЗржУ violate ржХрж░ржЫрзЗред


ржЪрж▓рзБржи ржжрзЗржЦрж┐ ржХрж┐ржнрж╛ржмрзЗ ржП рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░рж┐ржГ

```php
interface AuthenticationService
{
    public function authenticate($email);
}

class GoogleAuthenticationService implements AuthenticationService
{
    public function authenticate($email)
    {
        return 'true';
    }
}

class GithubAuthenticationService implements AuthenticationService
{
    public function authenticate($email)
    {
        return 'true';
    }
}

class userLogin
{
    public function login($email, AuthenticationService $authenticationService)
    {
        // DIP
        // Dependency inverted on abstraction
        $auth_result = $authenticationService->authenticate($email);
        if ($auth_result) {
            return true;
        }
    }
}

$login = new userLogin();
$login->login('samadocpl@gmail.com', new GithubAuthenticationService());
```

ржпрзЗрж╣рзЗрждрзБ DIP ржПрж░ рж╢рж░рзНржд рж╣рж▓рзЛ, high-level code ржПржмржВ low-level code ржжрзБржЗржЯрж╛ржЗ Abstraction ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░ржмрзЗ, рж╕рзЗрж╣рзЗрждрзБ ржПржЦрж╛ржирзЗ ржЖржорж╛ржжрзЗрж░ржХрзЗ Abstraction (class, interface) ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗ рж╣ржмрзЗред ржЖржорж░рж╛ interface ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐редAuthenticationService ржирж╛ржорзЗ ржПржХржЯрж┐ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ рждрзИрж░рзА ржХрж░рзЗржЫрж┐ ржпрзЗржЦрж╛ржирзЗ authenticate ржорзЗржержб ржЖржЫрзЗред ржкрзНрж░рждрж┐ржЯрж╛ login рж╕рж╛рж░рзНржнрж┐рж╕ ржПржЗ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░ржмрзЗ ржПржмржВ authenticate ржорзЗржержбрзЗ рждрж╛ржжрзЗрж░ functionality ржбрж┐ржлрж╛ржЗржи ржХрж░ржмрзЗред рждрж╛рж░ржорж╛ржирзЗ, ржЖржорж╛ржжрзЗрж░ low-level code ржПржЦржи Abstraction ржПрж░ ржЙржкрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНржЯ рж╣рж▓рзЛред

рждрж╛рж░ржкрж░, ржЖржорж╛ржжрзЗрж░ userLogin ржХрзНрж▓рж╛рж╕ ржПрж░ login ржорзЗржержбрзЗ ржХрж┐ржЫрзБ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржЫрж┐ред ржПржЦрж╛ржирзЗ AuthenticationService ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржХрзЗ ржЗржЮрзНржЬрзЗржХрзНржЯ ржХрж░рзЗржЫрж┐ред ржЕрж░рзНржерж╛рзО ржПржЗ ржорзЗржержбрзЗ ржЖрж╕рж╛рж░ рж╕ржорзЯрзЗржЗ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ AuthenticationService interface ржХрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рзЗржЫрзЗ ржПржоржи ржХрзЛржирзЛ class ржПрж░ instance ржЖрж╕ржмрзЗ ржЖрж░ рж╕рзЗржЗ instance ржП authenticate ржорзЗржержб ржбрж┐ржлрж╛ржЗржи ржХрж░рж╛ ржерж╛ржХржмрзЗред
рждрж╛рж░ржорж╛ржирзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ, ржЖржорж╛ржжрзЗрж░ high-level code ржЕрж░рзНржерж╛рзО userLogin ржХрзНрж▓рж╛рж╕ ржПржЦржи ржХрзЛржирзЛ concrete ржХрзНрж▓рж╛рж╕ ржПрж░ ржЙржкрж░ ржирзЯ ржмрж░ржВ ржПржХржЯрж╛ Abstraction (AuthenticationService) ржПрж░ ржЙржкрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНржЯред

---


## ЁЯФЪ рж╕рж╛рж░рж╛ржВрж╢:

| Principle | ржмрж╛ржВрж▓рж╛ ржмрзНржпрж╛ржЦрзНржпрж╛                                    |
| --------- | ------------------------------------------------- |
| SRP       | ржПржХ ржХрзНрж▓рж╛рж╕ = ржПржХ ржХрж╛ржЬ                                 |
| OCP       | ржХрзЛржб ржмрж╛рзЬрж╛ржирзЛ ржпрж╛ржмрзЗ, ржХрж┐ржирзНрждрзБ ржкрзБрж░ржирзЛ ржХрзЛржб ржирж╛ ржмржжрж▓рзЗ         |
| LSP       | ржЪрж╛ржЗрж▓рзНржб ржХрзНрж▓рж╛рж╕ ржпрзЗржи ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗрж░ ржорждрзЛржЗ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп рж╣рзЯ |
| ISP       | ржЫрзЛржЯ ржЫрзЛржЯ ржжрж░ржХрж╛рж░рж┐ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржмрж╛ржирж╛ржУ                    |
| DIP       | ржмрж╛рж╕рзНрждржм ржХрзНрж▓рж╛рж╕ ржирзЯ, ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЛ       |

---


